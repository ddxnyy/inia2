<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{{ title if title else "Sistema de Control" }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
<div class="d-flex">
    {% if session.get('admin_user') %}
    {% include 'sidebar.html' %}
    {% endif %}
    <div class="flex-grow-1 p-4">
        {% block content %}{% endblock %}
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
(function(){
    const btn = document.getElementById('btnLogout');
    if (btn) {
        btn.addEventListener('click', function(e){
            e.preventDefault();
            const href = this.getAttribute('href');
            Swal.fire({
                icon: 'question',
                title: '¿Cerrar sesión?',
                text: 'Se cerrará tu sesión actual.',
                showCancelButton: true,
                confirmButtonText: 'Salir',
                cancelButtonText: 'Cancelar'
            }).then(res => {
                if (res.isConfirmed) {
                    window.location.href = href;
                }
            });
        });
    }
})();
</script>
</body>
</html>
